@import "../../../../assets//styles/colors.scss";
@import "../../../../assets//styles/typography.scss";
@import "../../../../assets//styles/effects.scss";

.im-idea-node-wrap {
  @extend .block-sticky-note-shadow;
  padding: 0.75rem 1rem;
  line-height: 1.2;
  min-height: 100px;

  .selected & {
    outline: 2px solid $im-secondary;
  }
}

.im-sm-node-wrap {
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  line-height: 1;

  .selected & {
    outline: 2px solid $im-secondary;
  }
}

.im-text-idea-node {
  width: 200px;

  .im-text-idea__label-wrap {
    display: -webkit-box;
    -webkit-line-clamp: 12;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

.im-link-idea-node {
  width: 200px;

  .im-link-idea__link-wrap {
    display: flex;
    flex-direction: column;
    min-height: calc(100px - 1.5rem);

    .im-link-idea__url {
      flex-grow: 1;
      word-wrap: break-word;
      display: -webkit-box;
      -webkit-line-clamp: 8;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .im-link-idea__icon {
      text-align: end;
      margin-top: 0.75rem;
    }
  }
}

.im-image-idea-node {
  padding: 0.5rem;
  width: 150px;

  .im-image-idea__image-wrap img {
    aspect-ratio: 1 / 1;
    width: 100%;
    object-fit: cover;
  }
}

.im-sm-theme-node {
  .im-sm-theme__theme-wrap {
    .im-sm-theme__title {
      @extend .font-im-bold;
      margin-bottom: 0.25rem;
    }

    .im-sm-theme__subtitle {
      @extend .font-im-theme-subtitle;
      color: $im-unaccent;
      margin-bottom: 0;
    }
  }
}

.im-sm-result-node {
  max-width: 360px;

  .im-sm-result__head {
    margin-bottom: 0.25rem;

    &__title {
      @extend .font-im-bold;
      color: $im-primary;
      margin-bottom: 0;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    &__url {
      @extend .font-weight-medium;
      color: $im-secondary;
      margin-bottom: 0;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  }

  .im-sm-result__desc {
    @extend .font-weight-regular;
    margin-bottom: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

.im-sm-note-node {
  max-width: 360px;

  .im-sm-note__note-wrap {
    display: flex;

    .im-sm-note__icon {
      display: inline-block;
      margin-right: 0.75rem;
      vertical-align: top;
    }

    .im-sm-note__note {
      display: -webkit-inline-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  }
}

// customize handle
.react-flow .react-flow__handle {
  height: 12px;
  width: 12px;
  background-color: $im-secondary-alpha;
  border: none;

  &:hover {
    background-color: $im-primary;
  }

  &-top {
    top: -6px;
  }

  // &-left {
  //   left: -6px;
  // }

  &-bottom {
    bottom: -6px;
  }

  // &-right {
  //   right: -6px;
  // }

  &.disabled {
    opacity: 0;
  }
}
